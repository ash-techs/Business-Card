<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Card Generator Pro - 20+ Designs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700&family=Playfair+Display:ital,wght@0,700;1,400&family=Roboto+Mono:wght@500&family=Poppins:wght@400;800&display=swap" rel="stylesheet">

    <style>
        .card-container {
            width: 100%;
            max-width: 450px;
            aspect-ratio: 1.75 / 1;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif; /* Default Font */
        }

        .locked-overlay {
            position: absolute;
            inset: 0;
            background: rgba(255, 255, 255, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50;
            backdrop-filter: blur(4px);
            font-size: 1.5rem;
            font-weight: bold;
            color: rgba(220, 38, 38, 0.8);
            transform: rotate(-10deg);
            pointer-events: none;
            border: 4px dashed #dc2626;
            text-transform: uppercase;
        }

        .hidden { display: none !important; }

        /* Patterns */
        .pattern-dots { background-image: radial-gradient(currentColor 1px, transparent 1px); background-size: 20px 20px; opacity: 0.1; }
        .pattern-lines { background: repeating-linear-gradient(45deg, transparent, transparent 10px, currentColor 10px, currentColor 11px); opacity: 0.05; }
        .pattern-grid { background-image: linear-gradient(currentColor 1px, transparent 1px), linear-gradient(90deg, currentColor 1px, transparent 1px); background-size: 20px 20px; opacity: 0.05; }
        .pattern-hex { background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 0L20 10L10 20L0 10z' fill='%23888888' fill-opacity='0.1'/%3E%3C/svg%3E"); }
    </style>
</head>

<body class="bg-gray-100 min-h-screen p-4">

    <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">

        <div class="bg-white p-6 rounded-xl shadow-lg h-fit">
            <h2 class="text-2xl font-bold mb-4 text-gray-800"><i class="fas fa-cogs"></i> Card Details</h2>

            <div class="space-y-3 mb-6">
                <input type="text" id="inpBusiness" placeholder="Business Name" class="w-full p-2 border rounded" oninput="updatePreview()">
                <input type="text" id="inpOwner" placeholder="Owner Name" class="w-full p-2 border rounded" oninput="updatePreview()">
                <input type="text" id="inpDesignation" placeholder="Designation (e.g. CEO)" class="w-full p-2 border rounded" oninput="updatePreview()">
                <input type="text" id="inpLocation" placeholder="Location" class="w-full p-2 border rounded" oninput="updatePreview()">
                <input type="text" id="inpPhone" placeholder="Phone Number" class="w-full p-2 border rounded" oninput="updatePreview()">

                <div class="grid grid-cols-2 gap-2">
                    <input type="text" id="inpWhatsapp" placeholder="WhatsApp Number" class="w-full p-2 border rounded" oninput="updateQR()">
                    <input type="email" id="inpEmail" placeholder="Email Address" class="w-full p-2 border rounded" oninput="updateQR()">
                </div>
                <input type="text" id="inpWebsite" placeholder="Website URL" class="w-full p-2 border rounded" oninput="updateQR()">

                <label class="block text-sm font-bold mt-2">QR Target:</label>
                <select id="qrTarget" class="w-full p-2 border rounded mb-2" onchange="updateQR()">
                    <option value="whatsapp">WhatsApp</option>
                    <option value="website">Website</option>
                    <option value="email">Email</option>
                </select>
            </div>

            <hr class="my-6">

            <h3 class="text-xl font-bold mb-3">üé® Design Studio</h3>
            <div class="grid grid-cols-2 gap-4 mb-4">
                <button onclick="changeLayout()" class="bg-purple-100 text-purple-700 p-2 rounded hover:bg-purple-200">Change Layout (<span id="layoutCount">1</span>/20)</button>
                <button onclick="changePalette()" class="bg-blue-100 text-blue-700 p-2 rounded hover:bg-blue-200">Change Colors</button>
                <button onclick="changePattern()" class="bg-green-100 text-green-700 p-2 rounded hover:bg-green-200">Change Pattern</button>
                <button onclick="randomizeAll()" class="bg-gray-800 text-white p-2 rounded hover:bg-black">Randomize All üé≤</button>
            </div>

            <hr class="my-6">

            <div class="bg-red-50 p-4 rounded border border-red-200">
                <h3 class="text-sm font-bold text-red-600 uppercase mb-2">‚ö† Unlock Download</h3>
                <p class="text-xs text-gray-600 mb-3">
                    Preview is locked.
                    <a href="https://wa.me/923157692998?text=Hello,%20I%20need%20a%20token%20for%20the%20Business%20Card%20Generator." target="_blank" class="text-blue-600 font-bold underline">
                        Click here to get token via WhatsApp
                    </a>
                </p>
                <div class="flex gap-2">
                    <input type="text" id="tokenInput" placeholder="Enter Token" class="flex-1 p-2 border rounded text-sm">
                    <button onclick="validateToken()" class="bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700">Unlock</button>
                </div>
                <p id="tokenStatus" class="text-xs mt-2 font-bold"></p>
            </div>

            <button id="btnDownload" onclick="downloadCard()" class="w-full mt-4 bg-gray-400 text-white p-3 rounded font-bold cursor-not-allowed" disabled>
                Download Business Card
            </button>
        </div>

        <div class="flex flex-col items-center justify-start pt-10">
            <h2 class="text-2xl font-bold mb-4">Live Preview</h2>

            <div id="captureArea" class="card-container bg-white text-gray-800 relative">
                <div id="lockLayer" class="locked-overlay">PREVIEW ONLY</div>
                <div id="cardContent" class="w-full h-full relative z-10"></div>
                <div id="bgPattern" class="absolute inset-0 z-0 text-gray-900 pointer-events-none"></div>
            </div>

            <p class="text-sm text-gray-500 mt-4 text-center">
                Fill details and enter token to remove watermark and download.
            </p>
        </div>
    </div>

    <script>
        const ADMIN_CONFIG = { VALID_TOKEN: "ASH-TECH-2025" };
        const state = { layout: 0, palette: 0, pattern: 0, unlocked: false };

        const palettes = [
            { bg: '#ffffff', text: '#1f2937', accent: '#2563eb', secondary: '#f3f4f6' }, // Classic Blue
            { bg: '#18181b', text: '#fafafa', accent: '#facc15', secondary: '#27272a' }, // Dark Gold
            { bg: '#ffffff', text: '#000000', accent: '#000000', secondary: '#e5e5e5' }, // Monochrome
            { bg: '#2e1065', text: '#ffffff', accent: '#f472b6', secondary: '#4c1d95' }, // Deep Purple
            { bg: '#0f172a', text: '#e2e8f0', accent: '#38bdf8', secondary: '#1e293b' }, // Cyber Blue
            { bg: '#78350f', text: '#fffbeb', accent: '#fbbf24', secondary: '#92400e' }, // Leather
            { bg: '#064e3b', text: '#ecfdf5', accent: '#34d399', secondary: '#065f46' }, // Forest
            { bg: '#881337', text: '#fff1f2', accent: '#fda4af', secondary: '#9f1239' }, // Rose
            { bg: '#fef3c7', text: '#451a03', accent: '#d97706', secondary: '#fde68a' }, // Warm Paper
        ];

        const patterns = ['none', 'pattern-dots', 'pattern-lines', 'pattern-grid', 'pattern-hex'];
        
        // 20 Layout Definitions
        const layouts = [
            'modern-left', 'centered-bold', 'sidebar-dark', 'split-diagonal', 'header-bar',
            'minimal-right', 'floating-box', 'border-frame', 'tech-mono', 'elegant-serif',
            'grid-quad', 'bottom-stripe', 'circle-accent', 'corporate-clean', 'creative-blob',
            'big-initial', 'pill-badge', 'vertical-stack', 'glass-overlay', 'full-solid'
        ];

        function validateToken() {
            const input = document.getElementById('tokenInput').value;
            const statusEl = document.getElementById('tokenStatus');
            if (input === ADMIN_CONFIG.VALID_TOKEN) {
                state.unlocked = true;
                statusEl.textContent = "‚úÖ Unlocked! You can now download.";
                statusEl.className = "text-xs mt-2 font-bold text-green-600";
                document.getElementById('lockLayer').classList.add('hidden');
                const btn = document.getElementById('btnDownload');
                btn.disabled = false;
                btn.className = "w-full mt-4 bg-blue-600 text-white p-3 rounded font-bold hover:bg-blue-700 shadow-lg transition";
            } else {
                statusEl.textContent = "‚ùå Invalid Token";
                statusEl.className = "text-xs mt-2 font-bold text-red-600";
            }
        }

        function getQRUrl() {
            const target = document.getElementById('qrTarget').value;
            let data = "";
            if (target === 'whatsapp') {
                const num = document.getElementById('inpWhatsapp').value;
                data = num ? `https://wa.me/${num}` : 'https://wa.me/923157692998';
            } else if (target === 'email') {
                const mail = document.getElementById('inpEmail').value;
                data = mail ? `mailto:${mail}` : 'mailto:test@example.com';
            } else {
                const web = document.getElementById('inpWebsite').value;
                data = web ? web : 'https://google.com';
            }
            return `https://api.qrserver.com/v1/create-qr-code/?size=150x150&color=000000&bgcolor=ffffff&data=${encodeURIComponent(data)}`;
        }

        function renderCard() {
            const data = {
                business: document.getElementById('inpBusiness').value || "ASH TECH",
                owner: document.getElementById('inpOwner').value || "Ashfaq Ahmed",
                role: document.getElementById('inpDesignation').value || "Full Stack Developer",
                loc: document.getElementById('inpLocation').value || "Islamabad, Pakistan",
                phone: document.getElementById('inpPhone').value || "+92 315 7692998",
                email: document.getElementById('inpEmail').value || "contact@ashtech.com",
                qr: getQRUrl()
            };

            const pal = palettes[state.palette];
            const layout = layouts[state.layout];
            const cardEl = document.getElementById('captureArea');
            const contentEl = document.getElementById('cardContent');
            const patternEl = document.getElementById('bgPattern');

            // Apply global palette variables to container
            cardEl.style.backgroundColor = pal.bg;
            cardEl.style.color = pal.text;
            patternEl.className = `absolute inset-0 z-0 ${patterns[state.pattern]}`;
            patternEl.style.color = pal.text; // pattern takes text color

            document.getElementById('layoutCount').innerText = state.layout + 1;

            let html = '';

            // --- 20 DESIGNS LOGIC ---
            switch(layout) {
                // 1. Modern Left Bar
                case 'modern-left':
                    html = `
                    <div class="flex w-full h-full">
                        <div class="w-1/3 flex items-center justify-center relative overflow-hidden" style="background-color: ${pal.secondary}">
                            <div class="absolute inset-y-0 right-0 w-1" style="background-color: ${pal.accent}"></div>
                            <img src="${data.qr}" crossorigin="anonymous" class="w-24 h-24 bg-white p-1 rounded z-10 shadow-lg">
                        </div>
                        <div class="w-2/3 p-6 flex flex-col justify-center">
                            <h2 class="text-2xl font-extrabold tracking-tight uppercase" style="color: ${pal.accent}">${data.business}</h2>
                            <h3 class="text-lg font-bold mt-1">${data.owner}</h3>
                            <p class="text-xs opacity-75 mb-4 uppercase tracking-wider">${data.role}</p>
                            <div class="text-xs space-y-1.5 opacity-90">
                                <p><i class="fas fa-phone w-4"></i> ${data.phone}</p>
                                <p><i class="fas fa-envelope w-4"></i> ${data.email}</p>
                                <p><i class="fas fa-map-marker-alt w-4"></i> ${data.loc}</p>
                            </div>
                        </div>
                    </div>`;
                    break;

                // 2. Centered Bold
                case 'centered-bold':
                    html = `
                    <div class="flex flex-col w-full h-full items-center justify-center text-center p-4 border-4" style="border-color: ${pal.secondary}">
                        <h2 class="text-3xl font-black uppercase mb-1" style="color: ${pal.accent}">${data.business}</h2>
                        <div class="w-16 h-1 my-2 rounded" style="background-color: ${pal.text}"></div>
                        <h3 class="text-xl font-bold">${data.owner}</h3>
                        <p class="text-xs opacity-70 mb-4">${data.role}</p>
                        <div class="flex items-center gap-4 text-left text-xs bg-opacity-10 p-2 rounded" style="background-color: ${pal.secondary}">
                            <img src="${data.qr}" crossorigin="anonymous" class="w-12 h-12 bg-white p-0.5">
                            <div>
                                <p class="font-bold">${data.phone}</p>
                                <p>${data.email}</p>
                            </div>
                        </div>
                    </div>`;
                    break;

                // 3. Sidebar Dark (Contrast)
                case 'sidebar-dark':
                    html = `
                    <div class="flex w-full h-full">
                        <div class="w-20 h-full flex flex-col items-center justify-between py-4" style="background-color: ${pal.accent}; color: ${pal.bg}">
                            <i class="fas fa-cube text-2xl"></i>
                            <div class="writing-vertical rotate-180 text-sm font-bold tracking-widest uppercase" style="writing-mode: vertical-rl">${data.business}</div>
                            <i class="fas fa-circle text-[8px]"></i>
                        </div>
                        <div class="flex-1 p-6 flex flex-col justify-center pl-8">
                            <h1 class="text-3xl font-serif font-bold italic opacity-20 absolute top-4 right-4">${data.business}</h1>
                            <h2 class="text-2xl font-bold">${data.owner}</h2>
                            <p class="text-sm font-medium mb-4" style="color: ${pal.accent}">${data.role}</p>
                            <div class="grid grid-cols-2 gap-2 text-[10px] mt-auto">
                                <div class="col-span-2"><i class="fas fa-phone mr-1"></i> ${data.phone}</div>
                                <div class="col-span-2"><i class="fas fa-globe mr-1"></i> ${data.loc}</div>
                            </div>
                        </div>
                        <div class="absolute bottom-4 right-4">
                            <img src="${data.qr}" crossorigin="anonymous" class="w-16 h-16 bg-white p-1 border border-gray-200">
                        </div>
                    </div>`;
                    break;

                // 4. Split Diagonal
                case 'split-diagonal':
                    html = `
                    <div class="w-full h-full relative">
                        <div class="absolute inset-0 w-2/3 h-full z-0" style="background-color: ${pal.secondary}; clip-path: polygon(0 0, 100% 0, 85% 100%, 0% 100%);"></div>
                        <div class="relative z-10 flex h-full">
                            <div class="w-1/2 p-6 flex flex-col justify-center">
                                <img src="${data.qr}" crossorigin="anonymous" class="w-20 h-20 bg-white p-1 mb-3 shadow-md">
                                <h3 class="font-bold text-lg">${data.business}</h3>
                            </div>
                            <div class="w-1/2 p-6 flex flex-col justify-center items-end text-right">
                                <h2 class="text-2xl font-bold" style="color: ${pal.accent}">${data.owner}</h2>
                                <p class="text-xs mb-4 italic">${data.role}</p>
                                <p class="text-xs font-mono">${data.phone}</p>
                                <p class="text-xs font-mono">${data.email}</p>
                            </div>
                        </div>
                    </div>`;
                    break;

                // 5. Header Bar
                case 'header-bar':
                    html = `
                    <div class="w-full h-full flex flex-col">
                        <div class="h-1/3 w-full flex items-center px-6 justify-between" style="background-color: ${pal.accent}; color: ${pal.bg}">
                            <h2 class="text-xl font-bold tracking-wide">${data.business}</h2>
                            <i class="fas fa-fingerprint text-3xl opacity-50"></i>
                        </div>
                        <div class="h-2/3 p-6 flex justify-between items-center relative">
                            <div>
                                <h3 class="text-2xl font-bold">${data.owner}</h3>
                                <p class="text-xs uppercase tracking-widest mb-4 opacity-70">${data.role}</p>
                                <p class="text-xs"><i class="fas fa-phone mr-2" style="color:${pal.accent}"></i>${data.phone}</p>
                                <p class="text-xs"><i class="fas fa-envelope mr-2" style="color:${pal.accent}"></i>${data.email}</p>
                            </div>
                            <img src="${data.qr}" crossorigin="anonymous" class="w-20 h-20 bg-white shadow-md absolute bottom-6 right-6">
                        </div>
                    </div>`;
                    break;

                // 6. Minimal Right
                case 'minimal-right':
                    html = `
                    <div class="flex w-full h-full items-center justify-between p-8">
                        <div>
                            <p class="text-xs font-bold uppercase mb-1" style="color: ${pal.accent}">${data.business}</p>
                            <h2 class="text-3xl font-light font-serif">${data.owner}</h2>
                            <p class="text-xs italic opacity-60 mb-6">${data.role}</p>
                            <p class="text-xs">${data.phone}</p>
                            <p class="text-xs">${data.email}</p>
                        </div>
                        <div class="border-l pl-6" style="border-color: ${pal.secondary}">
                            <img src="${data.qr}" crossorigin="anonymous" class="w-20 h-20">
                        </div>
                    </div>`;
                    break;

                // 7. Floating Box
                case 'floating-box':
                    html = `
                    <div class="w-full h-full flex items-center justify-center" style="background-color: ${pal.secondary}">
                        <div class="w-[90%] h-[80%] bg-white shadow-2xl rounded-xl flex overflow-hidden" style="color: #333">
                            <div class="w-32 bg-gray-100 flex items-center justify-center">
                                <img src="${data.qr}" crossorigin="anonymous" class="w-20 h-20 mix-blend-multiply">
                            </div>
                            <div class="flex-1 p-5 flex flex-col justify-center">
                                <h2 class="text-lg font-bold uppercase text-gray-800">${data.business}</h2>
                                <h3 class="text-xl font-bold" style="color: ${pal.accent}">${data.owner}</h3>
                                <p class="text-xs text-gray-500 mb-2">${data.role}</p>
                                <hr class="border-gray-200 mb-2">
                                <p class="text-[10px] text-gray-600 font-mono">${data.phone} ‚Ä¢ ${data.loc}</p>
                            </div>
                        </div>
                    </div>`;
                    break;

                // 8. Border Frame
                case 'border-frame':
                    html = `
                    <div class="w-full h-full p-3">
                        <div class="w-full h-full border-2 border-dashed flex flex-col items-center justify-center relative rounded-lg" style="border-color: ${pal.accent}">
                            <div class="absolute top-2 left-3 font-bold text-xs">${data.business}</div>
                            <div class="text-center">
                                <h2 class="text-3xl font-black">${data.owner}</h2>
                                <p class="bg-gray-800 text-white px-2 py-0.5 text-xs inline-block my-2 rounded">${data.role}</p>
                            </div>
                            <div class="absolute bottom-2 right-3 flex items-center gap-2">
                                <div class="text-right text-[10px] leading-tight">
                                    <p>${data.phone}</p>
                                    <p>${data.email}</p>
                                </div>
                                <img src="${data.qr}" crossorigin="anonymous" class="w-10 h-10">
                            </div>
                        </div>
                    </div>`;
                    break;

                // 9. Tech Mono
                case 'tech-mono':
                    html = `
                    <div class="w-full h-full p-6 font-mono flex flex-col justify-between" style="font-family: 'Roboto Mono', monospace;">
                        <div class="border-b pb-2 flex justify-between items-end" style="border-color: ${pal.accent}">
                            <span class="text-xs opacity-50">&lt;dev&gt;</span>
                            <span class="text-sm font-bold" style="color: ${pal.accent}">${data.business}</span>
                        </div>
                        <div>
                            <h2 class="text-xl font-bold">> ${data.owner}<span class="animate-pulse">_</span></h2>
                            <p class="text-xs opacity-70 pl-4">// ${data.role}</p>
                        </div>
                        <div class="flex items-end justify-between">
                            <div class="text-[10px] space-y-1">
                                <p>const phone = "${data.phone}";</p>
                                <p>const loc = "${data.loc}";</p>
                            </div>
                            <img src="${data.qr}" crossorigin="anonymous" class="w-16 h-16 border-2" style="border-color: ${pal.accent}">
                        </div>
                    </div>`;
                    break;

                // 10. Elegant Serif
                case 'elegant-serif':
                    html = `
                    <div class="w-full h-full flex flex-col items-center justify-center text-center p-6 relative">
                        <div class="absolute inset-4 border opacity-30" style="border-color: ${pal.text}"></div>
                        <h3 class="text-xs uppercase tracking-[0.3em] mb-4">${data.business}</h3>
                        <h1 class="text-3xl font-serif italic mb-2" style="font-family: 'Playfair Display', serif;">${data.owner}</h1>
                        <p class="text-xs font-serif italic opacity-70 mb-6">${data.role}</p>
                        
                        <div class="flex items-center gap-4 justify-center">
                             <img src="${data.qr}" crossorigin="anonymous" class="w-14 h-14 bg-white p-1 shadow-sm">
                             <div class="text-left text-[10px] uppercase tracking-wider space-y-1">
                                <p>${data.phone}</p>
                                <p>${data.email}</p>
                             </div>
                        </div>
                    </div>`;
                    break;

                // 11. Grid Quad
                case 'grid-quad':
                    html = `
                    <div class="w-full h-full grid grid-cols-2 grid-rows-2">
                        <div class="bg-gray-50 flex items-center justify-center p-4" style="background-color:${pal.secondary}">
                            <h2 class="font-bold text-lg text-center leading-tight">${data.business}</h2>
                        </div>
                        <div class="flex items-center justify-center p-4" style="background-color:${pal.accent}; color:${pal.bg}">
                            <h2 class="font-bold text-xl">${data.owner}</h2>
                        </div>
                        <div class="flex flex-col justify-center p-6 text-xs space-y-1 border-t border-r" style="border-color:${pal.secondary}">
                            <p><strong>P:</strong> ${data.phone}</p>
                            <p><strong>E:</strong> ${data.email}</p>
                            <p><strong>W:</strong> ${data.loc}</p>
                        </div>
                        <div class="flex items-center justify-center border-t" style="border-color:${pal.secondary}">
                             <img src="${data.qr}" crossorigin="anonymous" class="w-20 h-20">
                        </div>
                    </div>`;
                    break;

                // 12. Bottom Stripe
                case 'bottom-stripe':
                    html = `
                    <div class="w-full h-full flex flex-col bg-white">
                        <div class="flex-1 p-8 flex items-end justify-between">
                            <div>
                                <h1 class="text-3xl font-bold text-gray-800">${data.owner}</h1>
                                <p class="text-sm text-gray-500">${data.role}</p>
                            </div>
                            <img src="${data.qr}" crossorigin="anonymous" class="w-20 h-20">
                        </div>
                        <div class="h-12 w-full flex items-center px-8 justify-between text-xs text-white" style="background-color: ${pal.accent}">
                            <span>${data.phone}</span>
                            <span class="font-bold tracking-widest uppercase">${data.business}</span>
                            <span>${data.loc}</span>
                        </div>
                    </div>`;
                    break;
                
                // 13. Circle Accent
                case 'circle-accent':
                    html = `
                    <div class="w-full h-full relative overflow-hidden p-8 flex flex-col justify-center">
                        <div class="absolute -right-16 -top-16 w-64 h-64 rounded-full opacity-20" style="background-color: ${pal.accent}"></div>
                        <div class="absolute -left-10 -bottom-10 w-40 h-40 rounded-full opacity-20" style="background-color: ${pal.accent}"></div>
                        
                        <div class="relative z-10">
                            <h2 class="text-xs font-bold tracking-widest text-gray-400 mb-2">${data.business}</h2>
                            <h1 class="text-3xl font-bold mb-1" style="color: ${pal.accent}">${data.owner}</h1>
                            <p class="text-sm mb-6 pb-4 border-b w-1/2" style="border-color: ${pal.secondary}">${data.role}</p>
                            
                            <div class="flex items-center gap-4">
                                <img src="${data.qr}" crossorigin="anonymous" class="w-16 h-16 border rounded bg-white p-1">
                                <div class="text-xs space-y-1">
                                    <p>${data.phone}</p>
                                    <p>${data.email}</p>
                                </div>
                            </div>
                        </div>
                    </div>`;
                    break;

                // 14. Corporate Clean
                case 'corporate-clean':
                    html = `
                    <div class="w-full h-full flex">
                        <div class="w-2 bg-gray-800 h-full" style="background-color: ${pal.accent}"></div>
                        <div class="flex-1 p-8 flex flex-col justify-between">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h2 class="text-2xl font-bold text-gray-800">${data.owner}</h2>
                                    <p class="text-sm text-blue-600 font-semibold" style="color: ${pal.accent}">${data.role}</p>
                                </div>
                                <div class="text-right">
                                    <h3 class="font-bold text-gray-400 uppercase tracking-wide text-xs">${data.business}</h3>
                                </div>
                            </div>
                            <div class="flex items-end justify-between mt-4">
                                <div class="text-xs text-gray-600 space-y-1">
                                    <p><i class="fas fa-mobile-alt w-4 text-center"></i> ${data.phone}</p>
                                    <p><i class="fas fa-at w-4 text-center"></i> ${data.email}</p>
                                    <p><i class="fas fa-globe w-4 text-center"></i> ${data.loc}</p>
                                </div>
                                <img src="${data.qr}" crossorigin="anonymous" class="w-20 h-20 bg-gray-100 p-1">
                            </div>
                        </div>
                    </div>`;
                    break;

                // 15. Creative Blob
                case 'creative-blob':
                    html = `
                    <div class="w-full h-full relative flex items-center px-8 z-0">
                        <div class="absolute right-0 top-0 bottom-0 w-1/2 z-[-1]" 
                             style="background-color: ${pal.secondary}; border-radius: 100% 0 0 100% / 50% 0 0 50%;"></div>
                        
                        <div class="w-1/2 pr-4">
                            <h2 class="text-2xl font-black leading-none mb-1">${data.owner.split(' ')[0]}<br><span style="color:${pal.accent}">${data.owner.split(' ').slice(1).join(' ') || ''}</span></h2>
                            <p class="text-xs font-bold uppercase mt-2 opacity-60">${data.role}</p>
                        </div>
                        <div class="w-1/2 flex flex-col items-center justify-center text-center">
                            <img src="${data.qr}" crossorigin="anonymous" class="w-20 h-20 bg-white p-2 rounded-full shadow-lg mb-2">
                            <p class="text-[10px] font-bold opacity-70">${data.phone}</p>
                            <p class="text-[8px] opacity-60 uppercase tracking-widest">${data.business}</p>
                        </div>
                    </div>`;
                    break;
                
                // 16. Big Initial
                case 'big-initial':
                    const initial = data.owner.charAt(0);
                    html = `
                    <div class="w-full h-full relative overflow-hidden p-6 flex flex-col justify-center">
                        <div class="absolute -right-4 -bottom-10 text-[180px] font-black opacity-10 leading-none select-none" style="font-family: serif; color: ${pal.accent}">
                            ${initial}
                        </div>
                        <div class="relative z-10">
                            <h3 class="text-xs font-bold uppercase bg-black text-white px-2 py-1 inline-block rounded mb-3" style="background-color: ${pal.accent}">${data.business}</h3>
                            <h2 class="text-3xl font-bold text-gray-800">${data.owner}</h2>
                            <p class="text-sm italic text-gray-500 mb-6">${data.role}</p>
                            
                            <div class="flex gap-4 items-center">
                                <img src="${data.qr}" crossorigin="anonymous" class="w-14 h-14 border border-gray-300">
                                <div class="text-xs font-mono">
                                    <p>${data.phone}</p>
                                    <p>${data.loc}</p>
                                </div>
                            </div>
                        </div>
                    </div>`;
                    break;

                // 17. Pill Badge
                case 'pill-badge':
                    html = `
                    <div class="w-full h-full flex flex-col items-center justify-center gap-3">
                        <div class="bg-gray-900 text-white rounded-full px-6 py-2 flex items-center gap-3 shadow-xl" style="background-color: ${pal.text}; color: ${pal.bg}">
                            <div class="text-right">
                                <h2 class="font-bold leading-none text-lg">${data.owner}</h2>
                                <p class="text-[10px] opacity-70 uppercase tracking-wide">${data.role}</p>
                            </div>
                            <div class="h-8 w-px bg-white opacity-30"></div>
                            <img src="${data.qr}" crossorigin="anonymous" class="w-10 h-10 bg-white rounded p-0.5">
                        </div>
                        <div class="text-center mt-2 space-y-0.5">
                             <p class="font-bold text-sm" style="color: ${pal.accent}">${data.business}</p>
                             <p class="text-xs opacity-80">${data.phone} | ${data.email}</p>
                        </div>
                    </div>`;
                    break;

                // 18. Vertical Stack
                case 'vertical-stack':
                    html = `
                    <div class="w-full h-full flex p-4 gap-4">
                        <div class="w-1/4 h-full rounded-lg flex items-center justify-center" style="background-color: ${pal.accent}">
                            <div class="writing-vertical text-white font-bold tracking-widest uppercase text-xs rotate-180" style="writing-mode: vertical-rl;">
                                ${data.business}
                            </div>
                        </div>
                        <div class="flex-1 flex flex-col justify-between py-2">
                             <div>
                                 <h2 class="text-2xl font-bold">${data.owner}</h2>
                                 <div class="h-1 w-10 my-2 bg-gray-300"></div>
                                 <p class="text-sm text-gray-500">${data.role}</p>
                             </div>
                             <div class="flex items-end justify-between">
                                 <div class="text-xs space-y-1 font-medium">
                                     <p>${data.phone}</p>
                                     <p>${data.email}</p>
                                     <p>${data.loc}</p>
                                 </div>
                                 <img src="${data.qr}" crossorigin="anonymous" class="w-16 h-16">
                             </div>
                        </div>
                    </div>`;
                    break;

                // 19. Glass Overlay
                case 'glass-overlay':
                    html = `
                    <div class="w-full h-full relative flex items-center justify-center p-8 bg-cover bg-center" style="background-image: url('https://source.unsplash.com/random/800x600?texture');">
                        <div class="absolute inset-0 opacity-50" style="background-color: ${pal.accent}"></div>
                        <div class="relative z-10 bg-white bg-opacity-90 backdrop-blur-sm p-6 rounded shadow-lg w-full flex items-center justify-between border border-white/50">
                            <div>
                                <h2 class="text-xl font-bold text-gray-900">${data.owner}</h2>
                                <p class="text-xs text-blue-600 font-bold mb-2 uppercase" style="color: ${pal.accent}">${data.business}</p>
                                <p class="text-[10px] text-gray-600">${data.phone}</p>
                                <p class="text-[10px] text-gray-600">${data.email}</p>
                            </div>
                            <img src="${data.qr}" crossorigin="anonymous" class="w-16 h-16 shadow-sm rounded">
                        </div>
                    </div>`;
                    break;

                // 20. Full Solid
                case 'full-solid':
                    html = `
                    <div class="w-full h-full flex items-center p-8" style="background-color: ${pal.text}; color: ${pal.bg}">
                        <div class="flex-1 pr-4 border-r opacity-50" style="border-color: ${pal.bg}">
                            <img src="${data.qr}" crossorigin="anonymous" class="w-24 h-24 bg-white p-1 rounded-sm">
                        </div>
                        <div class="w-2/3 pl-6">
                            <h2 class="text-3xl font-bold leading-none mb-1" style="color: ${pal.accent}">${data.owner}</h2>
                            <p class="text-sm opacity-80 mb-4">${data.role}</p>
                            <div class="text-xs space-y-1 font-light opacity-90">
                                <p>${data.business}</p>
                                <p>${data.phone}</p>
                                <p>${data.email}</p>
                            </div>
                        </div>
                    </div>`;
                    break;

                // Default fallback
                default:
                    html = `<div class="flex items-center justify-center h-full">Select a Layout</div>`;
            }

            contentEl.innerHTML = html;
        }

        function updatePreview() { renderCard(); }
        function updateQR() { renderCard(); }
        function changeLayout() { state.layout = (state.layout + 1) % layouts.length; renderCard(); }
        function changePalette() { state.palette = (state.palette + 1) % palettes.length; renderCard(); }
        function changePattern() { state.pattern = (state.pattern + 1) % patterns.length; renderCard(); }
        
        function randomizeAll() {
            state.layout = Math.floor(Math.random() * layouts.length);
            state.palette = Math.floor(Math.random() * palettes.length);
            state.pattern = Math.floor(Math.random() * patterns.length);
            renderCard();
        }

        function downloadCard() {
            if (!state.unlocked) return;
            const element = document.getElementById('captureArea');
            html2canvas(element, {
                scale: 3,
                useCORS: true,
                allowTaint: false,
                backgroundColor: null
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `BusinessCard-${Date.now()}.png`;
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }

        // Initialize
        randomizeAll();
    </script>
</body>
</html>
